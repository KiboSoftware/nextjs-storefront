import React from 'react'

import { composeStories } from '@storybook/testing-react'
import { render, screen } from '@testing-library/react'

import * as stories from './CmsComponent.stories'

const { Common } = composeStories(stories)

const SmallBannerMock = () => <div data-testid="small-banner-component" />
const HeroCarouselMock = () => <div data-testid="hero-carousel-component" />
const ContentTileMock = () => <div data-testid="content-tile-component" />
jest.mock('@/components/home/SmallBanner/SmallBanner', () => SmallBannerMock)
jest.mock('@/components/home/Carousel/KiboHeroCarousel', () => HeroCarouselMock)
jest.mock('@/components/home/ContentTile/ContentTile', () => ContentTileMock)

describe('[component] - OrderHistory', () => {
  const setup = (args = Common.args) => {
    render(<Common {...args} />)
  }
  it('should render component', () => {
    setup()
    const SmallBanner = screen.getByTestId('small-banner-component')

    expect(SmallBanner).toBeInTheDocument()
  })

  it('should render hero carousel component', () => {
    const heroCarousel = {
      content: {
        hero_carousel: {
          hero_carousel_items: [
            {
              button_link: {
                title: 'Shop Deals',
                href: '/category/deals',
              },
              description: 'Valid until 2024!',
              desktop_image: {
                url: 'https://images.contentstack.io/v3/assets/bltee41ac4678a1dae3/blt2417916a9e4a71d9/62e45a15e717bf11519a9a7a/hero_banner_D.jpeg',
              },
              image_alt_text: 'Outdoors!',
              mobile_image: {
                url: 'https://images.contentstack.io/v3/assets/bltee41ac4678a1dae3/blt0dd763e48e16249d/62e45a25145e5527a2b45050/hero_banner.jpg',
              },
              subtitle: 'Plus earn 2X Bonus Points',
              title: 'Up to 50% off Outdoor Gear',
            },
          ],
        },
      },
    }
    setup(heroCarousel)
    const HeroCarousel = screen.getByTestId('hero-carousel-component')

    expect(HeroCarousel).toBeInTheDocument()
  })

  it('should render large content tile component', () => {
    const contentTile = {
      content: {
        large_promo_blocks: {
          large_promo_blocks: [
            {
              image: {
                url: 'https://images.contentstack.io/v3/assets/bltee41ac4678a1dae3/blt331e9b9e9f62f027/62e4598d5ab928718a860a81/running_gear.jpg',
              },
              links: [
                {
                  title: 'Top Deals',
                  href: '/category/deals',
                },
                {
                  title: 'Club Deals',
                  href: '/category/club-deals',
                },
                {
                  title: 'Footwear Deals',
                  href: '/category/footwear-deals',
                },
              ],
              subtitle: 'Save on select footwear, equipment and more.',
              title: 'Up to 50% off Running Gear',
            },
            {
              image: {
                url: 'https://images.contentstack.io/v3/assets/bltee41ac4678a1dae3/blt970617ab432ca021/62e45a6ee0e20410aa835234/Nike_gear.jpg',
              },
              links: [
                {
                  title: 'Shop Men',
                  href: '/category/men',
                },
                {
                  title: 'Shop Women',
                  href: '/category/women',
                },
                {
                  title: 'Shop Kid',
                  href: '/category/kid',
                },
              ],
              subtitle: 'Save big on Nike footwear and Clothing!',
              title: 'Up to 50% off Nike Gear!',
            },
          ],
        },
      },
    }
    setup(contentTile)
    const ContentTile = screen.getByTestId('content-tile-component')

    expect(ContentTile).toBeInTheDocument()
  })

  it('should render small content tile component', () => {
    const contentTile = {
      content: {
        small_promo_blocks: {
          small_promo_blocks: [
            {
              image: {
                url: 'https://images.contentstack.io/v3/assets/bltee41ac4678a1dae3/blt51bf6f62689c111c/62e7bc363bba407090b26842/summer_look.jpg',
              },
              links: [
                {
                  title: 'Mens',
                  href: '/categegory/mens',
                },
                {
                  title: 'Womens',
                  href: '/category/womens',
                },
                {
                  title: 'Kids',
                  href: '/category/kids',
                },
              ],
              subtitle: 'Dress your best and shine brighter than the sun',
              title: 'Dress for Any Occasion',
            },
            {
              image: {
                url: 'https://images.contentstack.io/v3/assets/bltee41ac4678a1dae3/blt6df3991e351fabce/62e7bc613bba407090b26846/plenty_to_play_with.jpg',
              },
              links: [
                {
                  title: 'Beach',
                  href: '/category/beach',
                },
                {
                  title: 'BBQ',
                  href: '/category/bbq',
                },
                {
                  title: 'Hiking',
                  href: '/category/hiking',
                },
              ],
              subtitle: 'Unwind this summer with deals on top gear',
              title: 'Plenty to Play With',
            },
            {
              image: {
                url: 'https://images.contentstack.io/v3/assets/bltee41ac4678a1dae3/bltabbc7e8d6ee5c8d9/62e7bc9217133b76c5bd6995/power_through.jpg',
              },
              links: [
                {
                  title: 'Strength training',
                  href: '/category/strength-training',
                },
                {
                  title: 'Cardio Workout',
                  href: '/category/cardio-workout',
                },
                {
                  title: 'Fitness Deals',
                  href: '/category/fitness-deals',
                },
              ],
              subtitle: 'Clothing and gear for strength and cardio',
              title: 'Power to a Healthier You',
            },
            {
              image: {
                url: 'https://images.contentstack.io/v3/assets/bltee41ac4678a1dae3/blt3f72f8418dfce700/62e7bcb8361754115f1e31c1/get_your_golf_on.jpg',
              },
              links: [
                {
                  title: 'Golf Shirts',
                  href: '/category/golf-shirts',
                },
                {
                  title: 'Golf Pants',
                  href: '/category/golf-pants',
                },
                {
                  title: 'Golf Footwear',
                  href: '/category/golf-footwear',
                },
              ],
              subtitle: 'Tee up and bring your A-game',
              title: 'Get Your Golf On',
            },
          ],
        },
      },
    }
    setup(contentTile)
    const ContentTile = screen.getByTestId('content-tile-component')

    expect(ContentTile).toBeInTheDocument()
  })
})
